<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.js"></script>		<!--Adding Angular JS Framework File-->	
        <style>
            h1{
                color: green;
                font-family: sans-serif;
            }
            body{
                color: red;
                background-color: wheat;
                font-family:cursive;
            }
        </style>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>GammaAnalytics User Registration System - Registration</title>
    </head>
    <body ng-app="validateApp" ng-controller="validateCtrl">											<!--This body is the Owner of an ANGULAR JS Application "validateApp"-->
        <a href="index.jsp"><input type="submit" value="HOME"/></a>
    <center>
        <h1>GammaAnalytics User Registration System</h1>
        <h2>Fill up your Details</h2>
	<form name="RegistrationForm" action="Register.jsp" method="POST" novalidate>
		<table>
			<tr><td>--------------------------</td><td>------------------------------------</td><td>-------------------------------------------------</td></tr>
			<!--Validation of fields using ANGULAR JS Properties-->
			<tr><td>First Name:</td> <td><input type="text" id="firstNameTextBox" name="firstNameTextBox" ng-model="firstName" ng-required="true"/></td>
			<td>			
			<span ng-show="RegistrationForm.firstNameTextBox.$error.required">First Name is required.</span>
			</td></tr>

			<tr><td>Last Name:</td> <td><input type="text" id="lastNameTextBox" name="lastNameTextBox" ng-model="lastName"/></td></tr>
			
			<tr><td>E-Mail(Username):</td> <td><input type = "email" id="emailTextBox" name="emailTextBox" ng-model="email" ng-required="true"/></td>
			<td>
			<span style="color:red" ng-show="RegistrationForm.emailTextBox.$invalid">Email is invalid</span>
			<span ng-show="RegistrationForm.emailTextBox.$error.required">and it is required</span>
			</td></tr>
			
			<tr><td>Password:</td><td><input type="password" id="passwordTextBox" name="passwordTextBox" ng-model="password" ng-required="true"/></td>
			<td>
			<span style="color:red" ng-show="passwordNotValid()">Password must be atleast 6 characters</span>
			</td></tr>
			
			<tr><td>Security Question:</td><td><select id="securityQuestionDropDown" name="securityQuestionDropDown">
						<option>What is your first Teacher's Name?</option>
						<option>What is your first School Name?</option>
						<option>What is your first Pet's Name?</option>
						<option>Who is your first Crush?</option>
					</select></td></tr>
			<tr><td>Answer:</td><td><input type="text" id="securityAnswerTextBox" name="securityAnswerTextBox" ng-model="answer" ng-required="true"></td>
			<td>			
			<span ng-show="RegistrationForm.securityAnswerTextBox.$error.required">Security Answer is required.</span>
			</td></tr>
			<tr><td>Gender:</td><td><select id="genderDropDown" name="genderDropDown">
				<option value="M">Male</option>
				<option value="F">Female</option>
			</select></td></tr>
			<tr><td>Age:</td><td><input type="number" id="ageTextBox" name="ageTextBox" ng-model="age" ng-required="true"></td>
			<td>			
			<span ng-show="RegistrationForm.ageTextBox.$error.required">Age is required.</span>
			<span style="color:red" ng-show="RegistrationForm.ageTextBox.$invalid && !RegistrationForm.ageTextBox.$error.required">Invalid Age.</span>
			</td></tr>
			<tr><td>--------------------------</td><td>------------------------------------</td><td>-------------------------------------------------</td></tr>
		</table>				
		<input type="submit" value="Register" ng-disabled="!(!RegistrationForm.$error.required && !RegistrationForm.$invalid && !passwordNotValid())"/>  <!--Enables the Submit Button only if all the Validations succeed! Here we use "ng-disabled" directive for that!!-->
		</center>
	</form>
	<script>
		var app = angular.module('validateApp', []);
		app.controller('validateCtrl', function($scope) {
			$scope.password="";
			$scope.passwordNotValid  = function() {return ($scope.password.length < 6);};
		});		
	</script>
    </body>
</html>
